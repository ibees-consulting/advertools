<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>advertools.serp &mdash;  Python</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=4befc426"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
        <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
        <script async="async" src="https://unpkg.com/thebe@0.8.2/lib/index.js"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            advertools
          </a>
              <div class="version">
                0.15.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">About advertools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.survey.html">Survey - your feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.cli.cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEM</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.kw_generate.html">Generate SEM Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.ad_create.html">Create Text Ads on a Large Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.ad_from_string.html">Create Text Ads From Description Text</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEO</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.robotstxt.html">robots.txt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.sitemaps.html">XML Sitemaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.spider.html">SEO Spider / Crawler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.code_recipes.spider_strategies.html">Crawl Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.crawlytics.html">Crawl Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.header_spider.html">Crawl headers (HEAD method only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.image_spider.html">Crawl images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.logs.html">Log File Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.logs.html#parse-and-analyze-crawl-logs-in-a-dataframe">Parse and Analyze Crawl Logs in a Dataframe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.reverse_dns_lookup.html">Reverse DNS Lookup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.serp.html">Analyze Search Engine Results (SERPs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.knowledge_graph.html">Google's Knowledge Graph</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Text &amp; Content Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.urlytics.html">URL Structure Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.emoji.html">Emoji Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.extract.html">Extract Structured Entities from Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.stopwords.html">Stop Words</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.word_frequency.html">Text Analysis (absolute &amp; weighted word frequency)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.word_tokenize.html">Word Tokenization (N-grams)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Social Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.twitter.html">Twitter Data API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advertools.youtube.html">YouTube Data API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index &amp; Change Log</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../include_changelog.html">Index &amp; Change Log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">advertools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">advertools.serp</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for advertools.serp</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. _serp:</span>

<span class="sd">Import Search Engine Results Pages (SERPs) for Google and YouTube</span>
<span class="sd">=================================================================</span>
<span class="sd">Analyzing a single SERP is like getting one person to fill out a questionnaire</span>
<span class="sd">and calling it a survey.</span>

<span class="sd">Just like surveys, SERPs need to be collected in large-enough numbers that are</span>
<span class="sd">representative of the industry/market you want to understand. This is the main</span>
<span class="sd">feature of the ``serp_`` functions. They allow you to get the SERPs for a list</span>
<span class="sd">of queries, across several dimensions (like country, search type, start</span>
<span class="sd">position, and so on).</span>

<span class="sd">There are many parameters that can be used, and you can supply a list for each.</span>
<span class="sd">The function will get the SERPs for the *product* of all those lists. For</span>
<span class="sd">example, let&#39;s say you you provide the following arguments to the</span>
<span class="sd">:func:`serp_goog` function:</span>

<span class="sd">* `q`: [&#39;serp tools&#39;, &#39;best serp tools&#39;, &#39;serp tool reviews&#39;]</span>
<span class="sd">* `gl`: [&#39;us&#39;, &#39;ca&#39;, &#39;uk&#39;, &#39;au&#39;, &#39;nz&#39;]</span>
<span class="sd">* `start`: [1, 11, 21]</span>

<span class="sd">The function will produce:</span>
<span class="sd">3 (queries) x 5 (countries) x 3 (start positions) = 45 requests</span>

<span class="sd">You typically get ten results each, so in this case you would get 450 rows of</span>
<span class="sd">data.</span>

<span class="sd">All this is done in with one line of code. The result is a single DataFrame</span>
<span class="sd">with a row for each result, and columns for each attribute (title, snippet,</span>
<span class="sd">etc.), as well as meta data columns, like `queryTime` and the parameters you</span>
<span class="sd">selected (`q`, `gl`, and `start` in this case).</span>


<span class="sd">Before being able to run queries using :func:`serp_goog`, you will need to set</span>
<span class="sd">up some credentials as follows (you don&#39;t need a custom search engine for</span>
<span class="sd">:func:`serp_youtube`):</span>

<span class="sd">* `Create a custom search engine &lt;https://cse.google.com/&gt;`_: At first, you might be</span>
<span class="sd">  asked to enter a site to search. Enter any domain, then go to the control panel and</span>
<span class="sd">  remove it. Make sure you enable &quot;Search the entire web&quot; and image search. You will</span>
<span class="sd">  also need to get your search engine ID, which you can find on the control panel page.</span>

<span class="sd">* `Enable the custom search API &lt;https://console.cloud.google.com/apis/library/customsearch.googleapis.com?pli=1&gt;`_:</span>
<span class="sd">  The service will allow you to retrieve and display search results from your custom</span>
<span class="sd">  search engine programmatically. You will need to create a project for this first.</span>

<span class="sd">* `Create credentials for this project &lt;https://console.developers.google.com/apis/api/customsearch.googleapis.com/credentials&gt;`_:</span>
<span class="sd">  so you can get your key.</span>

<span class="sd">* `Enable billing for your project &lt;https://console.cloud.google.com/billing/projects&gt;`_</span>
<span class="sd">  if you want to run more than 100 queries per day. The first 100 queries are free; then</span>
<span class="sd">  for each additional 1,000 queries, you pay $5.</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;SERP_GOOG_VALID_VALS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;YOUTUBE_TOPIC_IDS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;YOUTUBE_VID_CATEGORY_IDS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;serp_goog&quot;</span><span class="p">,</span>
    <span class="s2">&quot;serp_youtube&quot;</span><span class="p">,</span>
    <span class="s2">&quot;set_logging_level&quot;</span><span class="p">,</span>
    <span class="s2">&quot;youtube_channel_details&quot;</span><span class="p">,</span>
    <span class="s2">&quot;youtube_video_details&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">product</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">__version__</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">json_normalize</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">pandas.io.json</span> <span class="kn">import</span> <span class="n">json_normalize</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">SERP_GOOG_LOG_FMT</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> | </span><span class="si">%(levelname)s</span><span class="s2"> | </span><span class="si">%(filename)s</span><span class="s2">:</span><span class="si">%(lineno)d</span><span class="s2"> &quot;</span>
    <span class="s2">&quot;| </span><span class="si">%(funcName)s</span><span class="s2"> | </span><span class="si">%(message)s</span><span class="s2">&quot;</span>
<span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="n">SERP_GOOG_LOG_FMT</span><span class="p">)</span>


<span class="c1">##############################################################################</span>
<span class="c1"># Google variables</span>
<span class="c1">##############################################################################</span>


<span class="n">SERP_GOOG_VALID_VALS</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">fileType</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;bas&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cpp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cxx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;doc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;docx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dwf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gpx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;h&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hpp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;htm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;html&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hwp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;java&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kml&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kmz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;odp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ods&quot;</span><span class="p">,</span>
        <span class="s2">&quot;odt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ppt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pptx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;py&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rtf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;svg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;swf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tex&quot;</span><span class="p">,</span>
        <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;txt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wap&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wml&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xls&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xlsx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xml&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">c2coff</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
    <span class="n">cr</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;countryAF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryDZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAQ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBB&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBJ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBV&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryBI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCV&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCX&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryHR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryDK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryDJ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryDM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryDO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryEC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryEG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySV&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGQ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryER&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryEE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryEU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFJ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFX&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryDE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryHT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryHM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryHN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryHK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryHU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryID&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIQ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryIT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryJM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryJP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryJO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLV&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLB&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMV&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryML&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMQ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryYT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMX&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryFM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryMP&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryNO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryOM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryQA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryRE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryRO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryRU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryRW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryKN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryPM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryWS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryST&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySB&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryZA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryGS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryES&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryLK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySD&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySJ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryCH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countrySY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTJ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryTV&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryAE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUK&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUY&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryUZ&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryVI&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryWF&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryEH&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryYE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryYU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryZM&quot;</span><span class="p">,</span>
        <span class="s2">&quot;countryZW&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">gl</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;ad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ae&quot;</span><span class="p">,</span>
        <span class="s2">&quot;af&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ag&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;al&quot;</span><span class="p">,</span>
        <span class="s2">&quot;am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ao&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;au&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;az&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ba&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;be&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;br&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;by&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ch&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ci&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ck&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;co&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;de&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;do&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ec&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ge&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ht&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;il&quot;</span><span class="p">,</span>
        <span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;io&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ke&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ki&quot;</span><span class="p">,</span>
        <span class="s2">&quot;km&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ky&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;li&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ls&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ly&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ma&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;md&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ml&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;my&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;na&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ng&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ni&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;np&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;om&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;py&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;re&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ru&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;se&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;si&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;so&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;st&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;td&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;th&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;to&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ua&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ug&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;um&quot;</span><span class="p">,</span>
        <span class="s2">&quot;us&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;va&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ve&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ws&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;za&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zw&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
    <span class="n">hl</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;af&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;az&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;be&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh-CN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh-TW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;da&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;de&quot;</span><span class="p">,</span>
        <span class="s2">&quot;el&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ja&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ko&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ml&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pt-BR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pt-PT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ru&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;si&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;su&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;th&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ur&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zu&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">imgColorType</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">,</span> <span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="s2">&quot;mono&quot;</span><span class="p">,</span> <span class="s2">&quot;trans&quot;</span><span class="p">},</span>
    <span class="n">imgDominantColor</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
        <span class="s2">&quot;brown&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="s2">&quot;green&quot;</span><span class="p">,</span>
        <span class="s2">&quot;orange&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;purple&quot;</span><span class="p">,</span>
        <span class="s2">&quot;red&quot;</span><span class="p">,</span>
        <span class="s2">&quot;teal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;white&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yellow&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">imgSize</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;huge&quot;</span><span class="p">,</span>
        <span class="s2">&quot;icon&quot;</span><span class="p">,</span>
        <span class="s2">&quot;large&quot;</span><span class="p">,</span>
        <span class="s2">&quot;medium&quot;</span><span class="p">,</span>
        <span class="s2">&quot;small&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xlarge&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xxlarge&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">imgType</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;clipart&quot;</span><span class="p">,</span> <span class="s2">&quot;face&quot;</span><span class="p">,</span> <span class="s2">&quot;lineart&quot;</span><span class="p">,</span> <span class="s2">&quot;stock&quot;</span><span class="p">,</span> <span class="s2">&quot;photo&quot;</span><span class="p">,</span> <span class="s2">&quot;animated&quot;</span><span class="p">},</span>
    <span class="n">lr</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;lang_ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_bg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_ca&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_zh-CN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_zh-TW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_hr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_cs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_da&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_nl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_fi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_fr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_de&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_el&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_iw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_hu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_ja&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_ko&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_lv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_lt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_pl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_pt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_ro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_ru&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_sr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_sk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_sl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_sv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lang_tr&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">num</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span>
    <span class="n">rights</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;cc_publicdomain&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc_attribute&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc_sharealike&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc_noncommercial&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc_nonderived&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">safe</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;active&quot;</span><span class="p">,</span> <span class="s2">&quot;off&quot;</span><span class="p">},</span>
    <span class="n">searchType</span><span class="o">=</span><span class="p">{</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">},</span>
    <span class="n">siteSearchFilter</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">},</span>
    <span class="n">start</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">92</span><span class="p">),</span>
<span class="p">)</span>


<span class="c1">##############################################################################</span>
<span class="c1"># YouTube variables</span>
<span class="c1">##############################################################################</span>


<span class="n">YOUTUBE_TOPIC_IDS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Entertainment topics&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Entertainment (parent topic)&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02jjt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Humor&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/09kqc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Movies&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02vxn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Performing arts&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/05qjc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Professional wrestling&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/066wd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;TV shows&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0f2f9&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;Gaming topics&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Action game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/025zzc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Action-adventure game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02ntfj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Casual game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0b1vjn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Gaming (parent topic)&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0bzvm2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Music video game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02hygl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Puzzle video game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/04q1x3q&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Racing video game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/01sjng&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Role-playing video game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0403l3g&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Simulation video game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/021bp2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Sports game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/022dc6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Strategy video game&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/03hf_rm&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;Lifestyle topics&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Fashion&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/032tl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Fitness&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/027x7n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Food&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02wbm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Hobby&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/03glg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Lifestyle (parent topic)&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/019_rr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Pets&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/068hy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Physical attractiveness [Beauty]&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/041xxh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Technology&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/07c1v&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Tourism&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/07bxq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Vehicles&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/07yv9&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;Music topics&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Christian music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02mscn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Classical music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0ggq0m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/01lyv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Electronic music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02lkt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Hip hop music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0glt670&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Independent music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/05rwpb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Jazz&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/03_d0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Music (parent topic)&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/04rlf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Music of Asia&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/028sqc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Music of Latin America&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0g293&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Pop music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/064t9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Reggae&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/06cqb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Rhythm and blues&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/06j6l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Rock music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/06by7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Soul music&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0gywn&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;Other topics&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Knowledge&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/01k8wb&quot;</span><span class="p">},</span>
    <span class="s2">&quot;Society topics&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Business&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/09s1f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Health&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0kt51&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Military&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/01h6rj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Politics&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/05qt0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Religion&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/06bvp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Society (parent topic)&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/098wr&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;Sports topics&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;American football&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0jm_&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Baseball&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/018jz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Basketball&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/018w8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Boxing&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/01cgz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Cricket&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/09xp_&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Football&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/02vx4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Golf&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/037hz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Ice hockey&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/03tmr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Mixed martial arts&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/01h7lh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Motorsport&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/0410tth&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Sports (parent topic)&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/06ntj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Tennis&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/07bs0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Volleyball&quot;</span><span class="p">:</span> <span class="s2">&quot;/m/07_53&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>

<span class="n">YOUTUBE_VID_CATEGORY_IDS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Action/Adventure&quot;</span><span class="p">:</span> <span class="s2">&quot;32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Anime/Animation&quot;</span><span class="p">:</span> <span class="s2">&quot;31&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Autos &amp; Vehicles&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Classics&quot;</span><span class="p">:</span> <span class="s2">&quot;33&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Comedy&quot;</span><span class="p">:</span> <span class="s2">&quot;34&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Documentary&quot;</span><span class="p">:</span> <span class="s2">&quot;35&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Drama&quot;</span><span class="p">:</span> <span class="s2">&quot;36&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Education&quot;</span><span class="p">:</span> <span class="s2">&quot;27&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Entertainment&quot;</span><span class="p">:</span> <span class="s2">&quot;24&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Family&quot;</span><span class="p">:</span> <span class="s2">&quot;37&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Film &amp; Animation&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Foreign&quot;</span><span class="p">:</span> <span class="s2">&quot;38&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Gaming&quot;</span><span class="p">:</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Horror&quot;</span><span class="p">:</span> <span class="s2">&quot;39&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Howto &amp; Style&quot;</span><span class="p">:</span> <span class="s2">&quot;26&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Movies&quot;</span><span class="p">:</span> <span class="s2">&quot;30&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Music&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;News &amp; Politics&quot;</span><span class="p">:</span> <span class="s2">&quot;25&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Nonprofits &amp; Activism&quot;</span><span class="p">:</span> <span class="s2">&quot;29&quot;</span><span class="p">,</span>
    <span class="s2">&quot;People &amp; Blogs&quot;</span><span class="p">:</span> <span class="s2">&quot;22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Pets &amp; Animals&quot;</span><span class="p">:</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Sci-Fi/Fantasy&quot;</span><span class="p">:</span> <span class="s2">&quot;40&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Science &amp; Technology&quot;</span><span class="p">:</span> <span class="s2">&quot;28&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Short Movies&quot;</span><span class="p">:</span> <span class="s2">&quot;18&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Shorts&quot;</span><span class="p">:</span> <span class="s2">&quot;42&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Shows&quot;</span><span class="p">:</span> <span class="s2">&quot;43&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Sports&quot;</span><span class="p">:</span> <span class="s2">&quot;17&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Thriller&quot;</span><span class="p">:</span> <span class="s2">&quot;41&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Trailers&quot;</span><span class="p">:</span> <span class="s2">&quot;44&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Travel &amp; Events&quot;</span><span class="p">:</span> <span class="s2">&quot;19&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Videoblogging&quot;</span><span class="p">:</span> <span class="s2">&quot;21&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">SERP_YTUBE_VALID_VALS</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">channelType</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;show&quot;</span><span class="p">},</span>
    <span class="n">eventType</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;completed&quot;</span><span class="p">,</span> <span class="s2">&quot;live&quot;</span><span class="p">,</span> <span class="s2">&quot;upcoming&quot;</span><span class="p">},</span>
    <span class="n">forContentOwner</span><span class="o">=</span><span class="p">{</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">},</span>
    <span class="n">forDeveloper</span><span class="o">=</span><span class="p">{</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">},</span>
    <span class="n">forMine</span><span class="o">=</span><span class="p">{</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">},</span>
    <span class="n">maxResults</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">),</span>
    <span class="n">order</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;rating&quot;</span><span class="p">,</span> <span class="s2">&quot;relevance&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;videoCount&quot;</span><span class="p">,</span> <span class="s2">&quot;viewCount&quot;</span><span class="p">},</span>
    <span class="n">regionCode</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;ad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ae&quot;</span><span class="p">,</span>
        <span class="s2">&quot;af&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ag&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ai&quot;</span><span class="p">,</span>
        <span class="s2">&quot;al&quot;</span><span class="p">,</span>
        <span class="s2">&quot;am&quot;</span><span class="p">,</span>
        <span class="s2">&quot;an&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ao&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;as&quot;</span><span class="p">,</span>
        <span class="s2">&quot;at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;au&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;az&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ba&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;be&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;br&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;by&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ch&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ci&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ck&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;co&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;de&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;do&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ec&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;er&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ge&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ht&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ie&quot;</span><span class="p">,</span>
        <span class="s2">&quot;il&quot;</span><span class="p">,</span>
        <span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="s2">&quot;io&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ir&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ke&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ki&quot;</span><span class="p">,</span>
        <span class="s2">&quot;km&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ky&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;li&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ls&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ly&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ma&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;md&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ml&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;my&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;na&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ng&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ni&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;np&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;om&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ps&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;py&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;re&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ru&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;se&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;si&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;so&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;st&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;td&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;th&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;to&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ua&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ug&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;um&quot;</span><span class="p">,</span>
        <span class="s2">&quot;us&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;va&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ve&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ws&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ye&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;za&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zw&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">relevanceLanguage</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;af&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;az&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;be&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ca&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh-CN&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh-TW&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh-Hans&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh-Hant&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;da&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;et&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;de&quot;</span><span class="p">,</span>
        <span class="s2">&quot;el&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ga&quot;</span><span class="p">,</span>
        <span class="s2">&quot;it&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ja&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ko&quot;</span><span class="p">,</span>
        <span class="s2">&quot;la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ml&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;no&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pt-BR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pt-PT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ru&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;si&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;es&quot;</span><span class="p">,</span>
        <span class="s2">&quot;su&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sw&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;te&quot;</span><span class="p">,</span>
        <span class="s2">&quot;th&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ti&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ur&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zu&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">safeSearch</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;moderate&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;strict&quot;</span><span class="p">},</span>
    <span class="n">topicId</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;/m/04rlf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02mscn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0ggq0m&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/01lyv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02lkt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0glt670&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/05rwpb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/03_d0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/028sqc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0g293&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/064t9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/06cqb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/06j6l&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/06by7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0gywn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0bzvm2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/025zzc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02ntfj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0b1vjn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02hygl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/04q1x3q&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/01sjng&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0403l3g&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/021bp2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/022dc6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/03hf_rm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/06ntj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0jm_&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/018jz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/018w8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/01cgz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/09xp_&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02vx4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/037hz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/03tmr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/01h7lh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0410tth&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/07bs0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/07_53&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02jjt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/09kqc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02vxn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/05qjc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/066wd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0f2f9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/019_rr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/032tl&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/027x7n&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/02wbm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/03glg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/068hy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/041xxh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/07c1v&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/07bxq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/07yv9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/098wr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/09s1f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/0kt51&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/01h6rj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/05qt0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/06bvp&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/m/01k8wb&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nb">type</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span> <span class="s2">&quot;playlist&quot;</span><span class="p">,</span> <span class="s2">&quot;video&quot;</span><span class="p">},</span>
    <span class="n">videoCaption</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;closedCaption&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">},</span>
    <span class="n">videoCategoryId</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;10&quot;</span><span class="p">,</span>
        <span class="s2">&quot;15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;17&quot;</span><span class="p">,</span>
        <span class="s2">&quot;18&quot;</span><span class="p">,</span>
        <span class="s2">&quot;19&quot;</span><span class="p">,</span>
        <span class="s2">&quot;20&quot;</span><span class="p">,</span>
        <span class="s2">&quot;21&quot;</span><span class="p">,</span>
        <span class="s2">&quot;22&quot;</span><span class="p">,</span>
        <span class="s2">&quot;23&quot;</span><span class="p">,</span>
        <span class="s2">&quot;24&quot;</span><span class="p">,</span>
        <span class="s2">&quot;25&quot;</span><span class="p">,</span>
        <span class="s2">&quot;26&quot;</span><span class="p">,</span>
        <span class="s2">&quot;27&quot;</span><span class="p">,</span>
        <span class="s2">&quot;28&quot;</span><span class="p">,</span>
        <span class="s2">&quot;29&quot;</span><span class="p">,</span>
        <span class="s2">&quot;30&quot;</span><span class="p">,</span>
        <span class="s2">&quot;31&quot;</span><span class="p">,</span>
        <span class="s2">&quot;32&quot;</span><span class="p">,</span>
        <span class="s2">&quot;33&quot;</span><span class="p">,</span>
        <span class="s2">&quot;34&quot;</span><span class="p">,</span>
        <span class="s2">&quot;35&quot;</span><span class="p">,</span>
        <span class="s2">&quot;36&quot;</span><span class="p">,</span>
        <span class="s2">&quot;37&quot;</span><span class="p">,</span>
        <span class="s2">&quot;38&quot;</span><span class="p">,</span>
        <span class="s2">&quot;39&quot;</span><span class="p">,</span>
        <span class="s2">&quot;40&quot;</span><span class="p">,</span>
        <span class="s2">&quot;41&quot;</span><span class="p">,</span>
        <span class="s2">&quot;42&quot;</span><span class="p">,</span>
        <span class="s2">&quot;43&quot;</span><span class="p">,</span>
        <span class="s2">&quot;44&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">videoDefinition</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;high&quot;</span><span class="p">,</span> <span class="s2">&quot;standard&quot;</span><span class="p">},</span>
    <span class="n">videoDimension</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;2d&quot;</span><span class="p">,</span> <span class="s2">&quot;3d&quot;</span><span class="p">,</span> <span class="s2">&quot;any&quot;</span><span class="p">},</span>
    <span class="n">videoDuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="s2">&quot;short&quot;</span><span class="p">},</span>
    <span class="n">videoEmbeddable</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">},</span>
    <span class="n">videoLicense</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;creativeCommon&quot;</span><span class="p">,</span> <span class="s2">&quot;youtube&quot;</span><span class="p">},</span>
    <span class="n">videoSyndicated</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">},</span>
    <span class="n">videoType</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;any&quot;</span><span class="p">,</span> <span class="s2">&quot;episode&quot;</span><span class="p">,</span> <span class="s2">&quot;movie&quot;</span><span class="p">},</span>
<span class="p">)</span>


<span class="k">def</span> <span class="nf">_split_by_comma</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Group a comma-separated string into a list of at-most</span>
<span class="sd">    ``length``-length words each.&quot;&quot;&quot;</span>
    <span class="n">str_split</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="n">str_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">str_split</span><span class="p">)</span> <span class="o">+</span> <span class="n">length</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
        <span class="n">temp_str</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">str_split</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">length</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">temp_str</span><span class="p">:</span>
            <span class="n">str_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_str</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">str_list</span>


<div class="viewcode-block" id="youtube_video_details">
<a class="viewcode-back" href="../../advertools.serp.html#advertools.serp.youtube_video_details">[docs]</a>
<span class="k">def</span> <span class="nf">youtube_video_details</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">vid_ids</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return details of videos for which the ids are given.</span>
<span class="sd">    Assumes ``ids`` is a comma-separated list of video ids with</span>
<span class="sd">    no spaces.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">      Your Google Developer key.</span>
<span class="sd">    vid_ids : str</span>
<span class="sd">      A comma-separated list of video ID&#39;s, with no spaces.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    video_df : pandas.DataFrame</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;https://www.googleapis.com/youtube/v3/videos?part=&quot;</span>
        <span class="s2">&quot;contentDetails,id,liveStreamingDetails,localizations,player,&quot;</span>
        <span class="s2">&quot;recordingDetails,snippet,statistics,status,topicDetails&quot;</span>
    <span class="p">)</span>
    <span class="n">vid_ids</span> <span class="o">=</span> <span class="n">_split_by_comma</span><span class="p">(</span><span class="n">vid_ids</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">vid_id</span> <span class="ow">in</span> <span class="n">vid_ids</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">vid_id</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">}</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Requesting: &quot;</span> <span class="o">+</span> <span class="s2">&quot;video details&quot;</span><span class="p">)</span>
        <span class="n">video_resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">video_resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">video_resp</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="n">items_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">video_resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;snippet&quot;</span><span class="p">,</span> <span class="s2">&quot;topicDetails&quot;</span><span class="p">,</span> <span class="s2">&quot;statistics&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;contentDetails&quot;</span><span class="p">]</span>
        <span class="n">detail_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">detail</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">detail_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">detail_df</span><span class="p">,</span>
                        <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">detail</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">video_resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">]]),</span>
                    <span class="p">],</span>
                    <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="n">temp_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">items_df</span><span class="p">,</span> <span class="n">detail_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">final_df</span><span class="p">,</span> <span class="n">temp_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">final_df</span></div>



<div class="viewcode-block" id="youtube_channel_details">
<a class="viewcode-back" href="../../advertools.serp.html#advertools.serp.youtube_channel_details">[docs]</a>
<span class="k">def</span> <span class="nf">youtube_channel_details</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">channel_ids</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return details of channels for which the ids are given.</span>
<span class="sd">    Assumes ``ids`` is a comma-separated list of channel ids with</span>
<span class="sd">    no spaces.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">      Your Google Developer key.</span>
<span class="sd">    channel_ids : str</span>
<span class="sd">      A comma-separated list of channel ID&#39;s, with no spaces.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    channel_df : pandas.DataFrame</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;https://www.googleapis.com/youtube/v3/channels?part=&quot;</span>
        <span class="s2">&quot;snippet,contentDetails,statistics&quot;</span>
    <span class="p">)</span>
    <span class="n">channel_ids</span> <span class="o">=</span> <span class="n">_split_by_comma</span><span class="p">(</span><span class="n">channel_ids</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">channel_id</span> <span class="ow">in</span> <span class="n">channel_ids</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">channel_id</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">}</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Requesting: &quot;</span> <span class="o">+</span> <span class="s2">&quot;channel details&quot;</span><span class="p">)</span>
        <span class="n">channel_resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">channel_resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">channel_resp</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="n">items_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">channel_resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
        <span class="n">details</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;snippet&quot;</span><span class="p">,</span> <span class="s2">&quot;statistics&quot;</span><span class="p">,</span> <span class="s2">&quot;contentDetails&quot;</span><span class="p">]</span>
        <span class="n">detail_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">detail</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">detail_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">detail_df</span><span class="p">,</span>
                        <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">detail</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">channel_resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">]]),</span>
                    <span class="p">],</span>
                    <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="n">temp_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">items_df</span><span class="p">,</span> <span class="n">detail_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">final_df</span><span class="p">,</span> <span class="n">temp_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">final_df</span></div>



<span class="k">def</span> <span class="nf">_dict_product</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the product of all values of a dict, while</span>
<span class="sd">    coupling each value with its key.</span>
<span class="sd">    This is used to generate multiple queries out of</span>
<span class="sd">        possibly multiple arguments in serp_goog.</span>

<span class="sd">    &gt;&gt;&gt; d = {&quot;a&quot;: [1], &quot;b&quot;: [2, 3, 4], &quot;c&quot;: [5, 6]}</span>
<span class="sd">    &gt;&gt;&gt; _dict_product(d)</span>
<span class="sd">    &gt;&gt;&gt; [{&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 5},</span>
<span class="sd">         {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 6},</span>
<span class="sd">         {&#39;a&#39;: 1, &#39;b&#39;: 3, &#39;c&#39;: 5},</span>
<span class="sd">         {&#39;a&#39;: 1, &#39;b&#39;: 3, &#39;c&#39;: 6},</span>
<span class="sd">         {&#39;a&#39;: 1, &#39;b&#39;: 4, &#39;c&#39;: 5},</span>
<span class="sd">         {&#39;a&#39;: 1, &#39;b&#39;: 4, &#39;c&#39;: 6}]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
    <span class="n">dicts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">prod</span> <span class="ow">in</span> <span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">values</span><span class="p">):</span>
        <span class="n">tempdict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">prod</span><span class="p">))</span>
        <span class="n">dicts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tempdict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dicts</span>


<div class="viewcode-block" id="serp_goog">
<a class="viewcode-back" href="../../advertools.serp.html#advertools.serp.serp_goog">[docs]</a>
<span class="k">def</span> <span class="nf">serp_goog</span><span class="p">(</span>
    <span class="n">q</span><span class="p">,</span>
    <span class="n">cx</span><span class="p">,</span>
    <span class="n">key</span><span class="p">,</span>
    <span class="n">c2coff</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">cr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">dateRestrict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">exactTerms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">excludeTerms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fileType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="nb">filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">gl</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">highRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">hl</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">hq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">imgColorType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">imgDominantColor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">imgSize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">imgType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">linkSite</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">lowRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">lr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">num</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">orTerms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">rights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">safe</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">searchType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">siteSearch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">siteSearchFilter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query Google&#39;s search API and get search results in a DataFrame.</span>

<span class="sd">    For each parameter, you can supply single or multiple values / arguments.</span>
<span class="sd">        If you pass multiple arguments, all the possible combinations of</span>
<span class="sd">        arguments (the product) will be requested, and you will get one</span>
<span class="sd">        DataFrame combining all queries. See examples below.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    q : str</span>
<span class="sd">      The search expression.</span>
<span class="sd">    cx : str</span>
<span class="sd">      The custom search engine ID to use for this request.</span>
<span class="sd">    key : str</span>
<span class="sd">      The API key of your custom search engine.</span>
<span class="sd">    c2coff : str</span>
<span class="sd">      Enables or disables Simplified and Traditional Chinese Search. The default value</span>
<span class="sd">      for this parameter is 0 (zero), meaning that the feature is enabled. Supported</span>
<span class="sd">      values are:1: Disabled0: Enabled (default)</span>
<span class="sd">    cr : str</span>
<span class="sd">      Restricts search results to documents originating in a particular country. You may</span>
<span class="sd">      use Boolean operators in the cr parameter&#39;s value.Google Search determines the</span>
<span class="sd">      country of a document by analyzing:the top- level domain (TLD) of the document&#39;s</span>
<span class="sd">      URLthe geographic location of the Web server&#39;s IP addressSee the Country Parameter</span>
<span class="sd">      Values page for a list of valid values for this parameter.</span>
<span class="sd">    dateRestrict : str</span>
<span class="sd">      Restricts results to URLs based on date.</span>

<span class="sd">      Supported values include:</span>
<span class="sd">        - d[number]: requests results from the specified number of past days.</span>
<span class="sd">        - w[number]: requests results from the specified number of past weeks.</span>
<span class="sd">        - m[number]: requests results from the specified number of past months.</span>
<span class="sd">        - y[number]: requests results from the specified number of past years.</span>
<span class="sd">    exactTerms : str</span>
<span class="sd">      Identifies a phrase that all documents in the search results must contain.</span>
<span class="sd">    excludeTerms : str</span>
<span class="sd">      Identifies a word or phrase that should not appear in any documents in the search</span>
<span class="sd">      results.</span>
<span class="sd">    fileType : str</span>
<span class="sd">      Restricts results to files of a specified extension. A list of file types</span>
<span class="sd">      indexable by Google can be found in Search Console Help Center.</span>
<span class="sd">    filter : str</span>
<span class="sd">      Controls turning on or off the duplicate content filter.See Automatic Filtering</span>
<span class="sd">      for more information about Google&#39;s search results filters. Note that host</span>
<span class="sd">      crowding filtering applies only to multi-site searches.By default, Google applies</span>
<span class="sd">      filtering to all search results to improve the quality of those results.</span>
<span class="sd">      Acceptable values are:  &quot;0&quot;: Turns off duplicate content filter.  &quot;1&quot;: Turns on</span>
<span class="sd">      duplicate content filter.</span>
<span class="sd">    gl : str</span>
<span class="sd">      Geolocation of end user. The gl parameter value is a two-letter country code. The</span>
<span class="sd">      gl parameter boosts search results whose country of origin matches the parameter</span>
<span class="sd">      value. See the Country Codes page for a list of valid values.Specifying a gl</span>
<span class="sd">      parameter value should lead to more relevant results. This is particularly true</span>
<span class="sd">      for international customers and, even more specifically, for customers in</span>
<span class="sd">      English- speaking countries other than the United States.</span>
<span class="sd">    highRange : str</span>
<span class="sd">      Specifies the ending value for a search range.Use lowRange and highRange to append</span>
<span class="sd">      an inclusive search range of lowRange...highRange to the query.</span>
<span class="sd">    hl : str</span>
<span class="sd">      Sets the user interface language. Explicitly setting this parameter improves the</span>
<span class="sd">      performance and the quality of your search results.See the Interface Languages</span>
<span class="sd">      section of Internationalizing Queries and Results Presentation for more</span>
<span class="sd">      information, and Supported Interface Languages for a list of supported languages.</span>
<span class="sd">    hq : str</span>
<span class="sd">      Appends the specified query terms to the query, as if they were combined with a</span>
<span class="sd">      logical AND operator.</span>
<span class="sd">    imgColorType : str</span>
<span class="sd">      Returns black and white, grayscale, or color images: mono, gray, and color.</span>
<span class="sd">      Acceptable values are:  &quot;color&quot;: color  &quot;gray&quot;: gray  &quot;mono&quot;: mono</span>
<span class="sd">    imgDominantColor : str</span>
<span class="sd">      Returns images of a specific dominant color.  Acceptable values are:</span>
<span class="sd">      &quot;black&quot;: black &quot;blue&quot;: blue  &quot;brown&quot;: brown  &quot;gray&quot;: gray  &quot;green&quot;: green</span>
<span class="sd">      &quot;orange&quot;: orange  &quot;pink&quot;: pink  &quot;purple&quot;: purple  &quot;red&quot;: red &quot;teal&quot;: teal</span>
<span class="sd">      &quot;white&quot;: white  &quot;yellow&quot;: yellow</span>
<span class="sd">    imgSize : str</span>
<span class="sd">      Returns images of a specified size. Acceptable values are:  &quot;huge&quot;: huge</span>
<span class="sd">      &quot;icon&quot;: icon  &quot;large&quot;: large  &quot;medium&quot;: medium  &quot;small&quot;: small  &quot;xlarge&quot;: xlarge</span>
<span class="sd">      &quot;xxlarge&quot;: xxlarge</span>
<span class="sd">    imgType : str</span>
<span class="sd">      Returns images of a type.  Acceptable values are:  &quot;clipart&quot;: clipart</span>
<span class="sd">      &quot;face&quot;: face  &quot;lineart&quot;: lineart  &quot;news&quot;: news  &quot;photo&quot;: photo</span>
<span class="sd">    linkSite : str</span>
<span class="sd">      Specifies that all search results should contain a link to a particular URL</span>
<span class="sd">    lowRange : str</span>
<span class="sd">      Specifies the starting value for a search range. Use lowRange and highRange to</span>
<span class="sd">      append an inclusive search range of lowRange...highRange to the query.</span>
<span class="sd">    lr : str</span>
<span class="sd">      Restricts the search to documents written in a particular language</span>
<span class="sd">      (e.g., lr=lang_ja).  Acceptable values are:  &quot;lang_ar&quot;: Arabic</span>
<span class="sd">      &quot;lang_bg&quot;: Bulgarian  &quot;lang_ca&quot;: Catalan  &quot;lang_cs&quot;: Czech  &quot;lang_da&quot;: Danish</span>
<span class="sd">      &quot;lang_de&quot;: German  &quot;lang_el&quot;: Greek  &quot;lang_en&quot;: English  &quot;lang_es&quot;: Spanish</span>
<span class="sd">      &quot;lang_et&quot;: Estonian  &quot;lang_fi&quot;: Finnish  &quot;lang_fr&quot;: French  &quot;lang_hr&quot;: Croatian</span>
<span class="sd">      &quot;lang_hu&quot;: Hungarian &quot;lang_id&quot;: Indonesian  &quot;lang_is&quot;: Icelandic</span>
<span class="sd">      &quot;lang_it&quot;: Italian  &quot;lang_iw&quot;: Hebrew  &quot;lang_ja&quot;: Japanese  &quot;lang_ko&quot;: Korean</span>
<span class="sd">      &quot;lang_lt&quot;: Lithuanian  &quot;lang_lv&quot;: Latvian &quot;lang_nl&quot;: Dutch  &quot;lang_no&quot;: Norwegian</span>
<span class="sd">      &quot;lang_pl&quot;: Polish &quot;lang_pt&quot;: Portuguese  &quot;lang_ro&quot;: Romanian  &quot;lang_ru&quot;: Russian</span>
<span class="sd">      &quot;lang_sk&quot;: Slovak  &quot;lang_sl&quot;: Slovenian  &quot;lang_sr&quot;: Serbian  &quot;lang_sv&quot;: Swedish</span>
<span class="sd">      &quot;lang_tr&quot;: Turkish  &quot;lang_zh- CN&quot;: Chinese (Simplified)  &quot;lang_zh-TW&quot;:</span>
<span class="sd">      Chinese (Traditional)</span>
<span class="sd">    num : int</span>
<span class="sd">      Number of search results to return.Valid values are integers between 1 and 10,</span>
<span class="sd">      inclusive.</span>
<span class="sd">    orTerms : str</span>
<span class="sd">      Provides additional search terms to check for in a document, where each document</span>
<span class="sd">      in the search results must contain at least one of the additional search terms.</span>
<span class="sd">    rights : str</span>
<span class="sd">      Filters based on licensing. Supported values include: cc_publicdomain,</span>
<span class="sd">      cc_attribute, cc_sharealike, cc_noncommercial, cc_nonderived, and combinations of</span>
<span class="sd">      these.</span>
<span class="sd">    safe : str</span>
<span class="sd">      Search safety level.  Acceptable values are:  &quot;active&quot;: Enables SafeSearch</span>
<span class="sd">      filtering.  &quot;off&quot;:Disables SafeSearch filtering.  (default)</span>
<span class="sd">    searchType : str</span>
<span class="sd">      Specifies the search type: image. If unspecified, results are limited to webpages.</span>
<span class="sd">      Acceptable values are:  &quot;image&quot;: custom image search.</span>
<span class="sd">    siteSearch : str</span>
<span class="sd">      Specifies all search results should be pages from a given site.</span>
<span class="sd">    siteSearchFilter : str</span>
<span class="sd">      Controls whether to include or exclude results from the site named in the</span>
<span class="sd">      siteSearch parameter.  Acceptable values are:  &quot;e&quot;: exclude  &quot;i&quot;: include</span>
<span class="sd">    sort : str</span>
<span class="sd">      The sort expression to apply to the results.</span>
<span class="sd">    start : int</span>
<span class="sd">      The index of the first result to return.Valid value are integers starting 1</span>
<span class="sd">      (default) and the second result is 2 and so forth. For example &amp;start=11 gives the</span>
<span class="sd">      second page of results with the default &quot;num&quot; value of 10 results per page.Note:</span>
<span class="sd">      No more than 100 results will ever be returned for any query with JSON API, even</span>
<span class="sd">      if more than 100 documents match the query, so setting (start + num) to more than</span>
<span class="sd">      100 will produce an error. Note that the maximum value for num is 10.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    serp_df : pandas.DataFrame</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    The following function call will produce two queries:</span>
<span class="sd">    &quot;hotel&quot; in the USA, and &quot;hotel&quot; in France</span>

<span class="sd">    &gt;&gt;&gt; serp_goog(q=&quot;hotel&quot;, gl=[&quot;us&quot;, &quot;fr&quot;], cx=&quot;YOUR_CX&quot;, key=&quot;YOUR_KEY&quot;)</span>

<span class="sd">    The below function call will prouce four queries and make four requests:</span>

<span class="sd">    * &quot;fligts&quot; in UK</span>
<span class="sd">    * &quot;fligts&quot; in Australia</span>
<span class="sd">    * &quot;tickets&quot; in UK</span>
<span class="sd">    * &quot;tickets&quot; in Australia</span>

<span class="sd">    &#39;cr&#39; here refers to &#39;country restrict&#39;, which focuses on content</span>
<span class="sd">    originating from the specified country.</span>

<span class="sd">    &gt;&gt;&gt; serp_goog(q=[&#39;flights&#39;, &#39;tickets&#39;], cr=[&#39;countryUK&#39;, &#39;countryAU&#39;],</span>
<span class="sd">                  cx=&#39;YOUR_CX&#39;, key=&#39;YOUR_KEY&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>
    <span class="n">supplied_params</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">supplied_params</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">],</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">supplied_params</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">SERP_GOOG_VALID_VALS</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">SERP_GOOG_VALID_VALS</span><span class="p">[</span><span class="n">p</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Please make sure you provide a&quot;</span>
                    <span class="s1">&#39; valid value for &quot;</span><span class="si">{}</span><span class="s1">&quot;, valid values:</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">SERP_GOOG_VALID_VALS</span><span class="p">[</span><span class="n">p</span><span class="p">]))</span>
                <span class="p">)</span>
    <span class="n">params_list</span> <span class="o">=</span> <span class="n">_dict_product</span><span class="p">(</span><span class="n">supplied_params</span><span class="p">)</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.googleapis.com/customsearch/v1?&quot;</span>
    <span class="n">specified_cols</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;searchTerms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rank&quot;</span><span class="p">,</span>
        <span class="s2">&quot;title&quot;</span><span class="p">,</span>
        <span class="s2">&quot;snippet&quot;</span><span class="p">,</span>
        <span class="s2">&quot;displayLink&quot;</span><span class="p">,</span>
        <span class="s2">&quot;link&quot;</span><span class="p">,</span>
        <span class="s2">&quot;queryTime&quot;</span><span class="p">,</span>
        <span class="s2">&quot;totalResults&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params_list</span><span class="p">:</span>
        <span class="n">param_log</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">k</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">param</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Requesting: &quot;</span> <span class="o">+</span> <span class="n">param_log</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">param</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="n">responses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
    <span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">resp</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">responses</span><span class="p">):</span>
        <span class="n">request_metadata</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;queries&quot;</span><span class="p">][</span><span class="s2">&quot;request&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">request_metadata</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="n">search_info</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;searchInformation&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">search_info</span><span class="p">[</span><span class="s2">&quot;totalResults&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">specified_cols</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
            <span class="n">df</span><span class="p">[</span><span class="s2">&quot;searchTerms&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">request_metadata</span><span class="p">[</span><span class="s2">&quot;searchTerms&quot;</span><span class="p">]</span>
            <span class="c1"># These keys don&#39;t appear in the response so they have to be</span>
            <span class="c1"># added manually</span>
            <span class="k">for</span> <span class="n">missing</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;lr&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;c2coff&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">missing</span> <span class="ow">in</span> <span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">df</span><span class="p">[</span><span class="n">missing</span><span class="p">]</span> <span class="o">=</span> <span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">missing</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
            <span class="n">df</span><span class="p">[</span><span class="s2">&quot;cseName&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;context&quot;</span><span class="p">][</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
            <span class="n">start_idx</span> <span class="o">=</span> <span class="n">request_metadata</span><span class="p">[</span><span class="s2">&quot;startIndex&quot;</span><span class="p">]</span>
            <span class="n">df</span><span class="p">[</span><span class="s2">&quot;rank&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">start_idx</span><span class="p">,</span> <span class="n">start_idx</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">missing</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;lr&quot;</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;c2coff&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">missing</span> <span class="ow">in</span> <span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">df</span><span class="p">[</span><span class="n">missing</span><span class="p">]</span> <span class="o">=</span> <span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">missing</span><span class="p">]</span>
        <span class="n">meta_columns</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">request_metadata</span><span class="p">,</span> <span class="o">**</span><span class="n">search_info</span><span class="p">}</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">meta_columns</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;queryTime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;queryTime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;queryTime&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s2">&quot;image&quot;</span> <span class="ow">in</span> <span class="n">df</span><span class="p">:</span>
            <span class="n">img_df</span> <span class="o">=</span> <span class="n">json_normalize</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">])</span>
            <span class="n">img_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;image.&quot;</span> <span class="o">+</span> <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">img_df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">img_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">result_df</span><span class="p">,</span> <span class="n">df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ordered_cols</span> <span class="o">=</span> <span class="p">(</span>
        <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">difference</span><span class="p">({</span><span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="s2">&quot;cx&quot;</span><span class="p">}))</span> <span class="o">+</span> <span class="n">specified_cols</span>
    <span class="p">)</span>
    <span class="n">non_ordered</span> <span class="o">=</span> <span class="n">result_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ordered_cols</span><span class="p">))</span>
    <span class="n">final_df</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="n">ordered_cols</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">non_ordered</span><span class="p">)]</span>
    <span class="k">if</span> <span class="s2">&quot;pagemap&quot;</span> <span class="ow">in</span> <span class="n">final_df</span><span class="p">:</span>
        <span class="n">pagemap_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">final_df</span><span class="p">[</span><span class="s2">&quot;pagemap&quot;</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">temp_pagemap_df</span> <span class="o">=</span> <span class="n">json_normalize</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
                <span class="n">pagemap_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pagemap_df</span><span class="p">,</span> <span class="n">temp_pagemap_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="n">temp_pagemap_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;delete_me&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
                <span class="n">pagemap_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pagemap_df</span><span class="p">,</span> <span class="n">temp_pagemap_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">pagemap_df</span> <span class="o">=</span> <span class="n">pagemap_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;delete_me&quot;</span> <span class="ow">in</span> <span class="n">pagemap_df</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">pagemap_df</span><span class="p">[</span><span class="s2">&quot;delete_me&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">pagemap_df</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">final_df</span><span class="p">:</span>
                <span class="n">pagemap_df</span> <span class="o">=</span> <span class="n">pagemap_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="s2">&quot;pagemap_&quot;</span> <span class="o">+</span> <span class="n">col</span><span class="p">})</span>
        <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">final_df</span><span class="p">,</span> <span class="n">pagemap_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;metatags&quot;</span> <span class="ow">in</span> <span class="n">pagemap_df</span><span class="p">:</span>
            <span class="n">metatag_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">pagemap_df</span><span class="p">[</span><span class="s2">&quot;metatags&quot;</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">temp_metatags_df</span> <span class="o">=</span> <span class="n">json_normalize</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
                    <span class="n">metatag_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">metatag_df</span><span class="p">,</span> <span class="n">temp_metatags_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="n">temp_metatags_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;delete_me&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
                    <span class="n">metatag_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">metatag_df</span><span class="p">,</span> <span class="n">temp_metatags_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">metatag_df</span> <span class="o">=</span> <span class="n">metatag_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;delete_me&quot;</span> <span class="ow">in</span> <span class="n">metatag_df</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">metatag_df</span><span class="p">[</span><span class="s2">&quot;delete_me&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">metatag_df</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">final_df</span><span class="p">:</span>
                    <span class="n">metatag_df</span> <span class="o">=</span> <span class="n">metatag_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="s2">&quot;metatag_&quot;</span> <span class="o">+</span> <span class="n">col</span><span class="p">})</span>

            <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">final_df</span><span class="p">,</span> <span class="n">metatag_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">final_df</span></div>



<div class="viewcode-block" id="serp_youtube">
<a class="viewcode-back" href="../../advertools.serp.html#advertools.serp.serp_youtube">[docs]</a>
<span class="k">def</span> <span class="nf">serp_youtube</span><span class="p">(</span>
    <span class="n">key</span><span class="p">,</span>
    <span class="n">q</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">channelId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">channelType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">eventType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">forContentOwner</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">forDeveloper</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">forMine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">locationRadius</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">maxResults</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">onBehalfOfContentOwner</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">pageToken</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">publishedAfter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">publishedBefore</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">regionCode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">relatedToVideoId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">relevanceLanguage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">safeSearch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">topicId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoCaption</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoCategoryId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoDefinition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoDimension</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoDuration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoEmbeddable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoLicense</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoSyndicated</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">videoType</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Query the YouTube API and get search results in a DataFrame.</span>

<span class="sd">    For each parameter you can supply a single or multiple value(s).</span>
<span class="sd">    Looping and merging results is handled automatically in case of multiple</span>
<span class="sd">    values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    q : str</span>
<span class="sd">      The ``q`` parameter specifies the query term to search for. Your request can also</span>
<span class="sd">      use the Boolean NOT (-) and OR (|) operators to exclude videos or to find videos</span>
<span class="sd">      that are associated with one of several search terms. For example, to search for</span>
<span class="sd">      videos matching either &quot;boating&quot; or &quot;sailing&quot;, set the ``q`` parameter value to</span>
<span class="sd">      boating|sailing. Similarly, to search for videos matching either &quot;boating&quot; or</span>
<span class="sd">      &quot;sailing&quot; but not &quot;fishing&quot;, set the q parameter value to</span>
<span class="sd">      boating|sailing -fishing. Note that the pipe character must be URL- escaped when</span>
<span class="sd">      it is sent in your API request. The URL-escaped value for the pipe character is</span>
<span class="sd">      %7C.</span>
<span class="sd">    channelId : str</span>
<span class="sd">      The ``channelId`` parameter indicates that the API response should only contain</span>
<span class="sd">      resources created by the channel. Note: Search results are constrained to a</span>
<span class="sd">      maximum of 500 videos if your request specifies a value for the ``channelId``</span>
<span class="sd">      parameter and sets the ``type`` parameter value to video, but it does not also set</span>
<span class="sd">      one of the ``forContentOwner``, ``forDeveloper``, or ``forMine`` filters.</span>
<span class="sd">    channelType : str</span>
<span class="sd">      The ``channelType`` parameter lets you restrict a search to a particular type of</span>
<span class="sd">      channel. Acceptable values are:</span>

<span class="sd">        any - Return all channels.</span>

<span class="sd">        show - Only retrieve shows.</span>
<span class="sd">    eventType : str</span>
<span class="sd">      The ``eventType`` parameter restricts a search to broadcast events. If you specify</span>
<span class="sd">      a value for this parameter, you must also set the type parameter&#39;s value to video.</span>
<span class="sd">      Acceptable values are:</span>

<span class="sd">        completed - Only include completed broadcasts.</span>

<span class="sd">        live - Only include active broadcasts.</span>

<span class="sd">        upcoming - Only include upcoming broadcasts.</span>

<span class="sd">    forContentOwner : bool</span>
<span class="sd">      This parameter can only be used in a properly authorized request, and it is</span>
<span class="sd">      intended exclusively for YouTube content partners. The ``forContentOwner``</span>
<span class="sd">      parameter restricts the search to only retrieve videos owned by the content owner</span>
<span class="sd">      identified by the ``onBehalfOfContentOwner`` parameter. If ``forContentOwner`` is</span>
<span class="sd">      set to true, the request must also meet these requirements: The</span>
<span class="sd">      ``onBehalfOfContentOwner`` parameter is required.The user authorizing the request</span>
<span class="sd">      must be using an account linked to the specified content owner. The ``type``</span>
<span class="sd">      parameter value must be set to video.None of the following other parameters can be</span>
<span class="sd">      set: ``videoDefinition``, ``videoDimension``, ``videoDuration``, ``videoLicense``,</span>
<span class="sd">      ``videoEmbeddable``, ``videoSyndicated``, ``videoType``.</span>
<span class="sd">    forDeveloper : bool</span>
<span class="sd">      This parameter can only be used in a properly authorized request. The</span>
<span class="sd">      ``forDeveloper`` parameter restricts the search to only retrieve videos uploaded</span>
<span class="sd">      via the developer&#39;s application or website. The API server uses the request&#39;s</span>
<span class="sd">      authorization credentials to identify the developer. The ``forDeveloper``</span>
<span class="sd">      parameter can be used in conjunction with optional search parameters like the</span>
<span class="sd">      ``q`` parameter. For this feature, each uploaded video is automatically tagged</span>
<span class="sd">      with the project number that is associated with the developer&#39;s application in the</span>
<span class="sd">      Google Developers Console. When a search request subsequently sets the</span>
<span class="sd">      ``forDeveloper`` parameter to ``true`` the API server uses the request&#39;s</span>
<span class="sd">      authorization credentials to identify the developer. Therefore, a developer can</span>
<span class="sd">      restrict results to videos uploaded through the developer&#39;s own app or website but</span>
<span class="sd">      not to videos uploaded through other apps or sites.</span>
<span class="sd">    forMine : bool</span>
<span class="sd">      This parameter can only be used in a properly authorized request. The ``forMine``</span>
<span class="sd">      parameter restricts the search to only retrieve videos owned by the authenticated</span>
<span class="sd">      user. If you set this parameter to ``true``, then the ``type`` parameter&#39;s value</span>
<span class="sd">      must also be set to ``video``. In addition, none of the following other parameters</span>
<span class="sd">      can be set in the same request: ``videoDefinition``, ``videoDimension``,</span>
<span class="sd">      ``videoDuration``, ``videoLicense``, ``videoEmbeddable``, ``videoSyndicated``,</span>
<span class="sd">      ``videoType``.</span>
<span class="sd">    relatedToVideoId: str</span>
<span class="sd">      The ``relatedToVideoId`` parameter retrieves a list of videos that are related to</span>
<span class="sd">      the video that the parameter ``value`` identifies. The parameter ``value`` must be</span>
<span class="sd">      set to a YouTube video ID and, if you are using this parameter, the ``type``</span>
<span class="sd">      parameter must be set to video.Note that if the ``relatedToVideoId`` parameter is</span>
<span class="sd">      set, the only other supported parameters are ``part``, ``maxResults``,</span>
<span class="sd">      ``pageToken``, ``regionCode``, ``relevanceLanguage``, ``safeSearch``, ``type``</span>
<span class="sd">      (which must be set to video), and ``fields``.</span>
<span class="sd">    location : str</span>
<span class="sd">      The ``location`` parameter, in conjunction with the ``locationRadius`` parameter,</span>
<span class="sd">      defines a circular geographic area and also restricts a search to videos that</span>
<span class="sd">      specify, in their metadata, a geographic location that falls within that area. The</span>
<span class="sd">      parameter value is a string that specifies latitude/longitude coordinates e.g.</span>
<span class="sd">      (37.42307,-122.08427).The location parameter value identifies the point at the</span>
<span class="sd">      center of the area. The ``locationRadius`` parameter specifies the maximum</span>
<span class="sd">      distance that the location associated with a video can be from that point for the</span>
<span class="sd">      video to still be included in the search results. The API returns an error if your</span>
<span class="sd">      request specifies a value for the ``location`` parameter but does not also specify</span>
<span class="sd">      a value for the ``locationRadius`` parameter.</span>
<span class="sd">    locationRadius : str</span>
<span class="sd">      The ``locationRadius`` parameter, in conjunction with the ``location`` parameter,</span>
<span class="sd">      defines a circular geographic area. The parameter value must be a floating point</span>
<span class="sd">      number followed by a measurement unit. Valid measurement units are m, km, ft, and</span>
<span class="sd">      mi. For example, valid parameter values include 1500m, 5km, 10000ft, and 0.75mi.</span>
<span class="sd">      The API does not support ``locationRadius`` parameter values larger than 1000</span>
<span class="sd">      kilometers. Note: See the definition of the ``location`` parameter for more</span>
<span class="sd">      information.</span>
<span class="sd">    maxResults : int</span>
<span class="sd">      The ``maxResults`` parameter specifies the maximum number of items that should be</span>
<span class="sd">      returned in the result set. Acceptable values are 0 to 50, inclusive. The default</span>
<span class="sd">      value is 5.</span>
<span class="sd">    onBehalfOfContentOwner : str</span>
<span class="sd">      This parameter can only be used in a properly authorized request. Note: This</span>
<span class="sd">      parameter is intended exclusively for YouTube content partners.The</span>
<span class="sd">      ``onBehalfOfContentOwner`` parameter indicates that the request&#39;s authorization</span>
<span class="sd">      credentials identify a YouTube CMS user who is acting on behalf of the content</span>
<span class="sd">      owner specified in the parameter value. This parameter is intended for YouTube</span>
<span class="sd">      content partners that own and manage many different YouTube channels. It allows</span>
<span class="sd">      content owners to authenticate once and get access to all their video and channel</span>
<span class="sd">      data, without having to provide authentication credentials for each individual</span>
<span class="sd">      channel. The CMS account that the user authenticates with must be linked to the</span>
<span class="sd">      specified YouTube content owner.</span>
<span class="sd">    order : str</span>
<span class="sd">      The order parameter specifies the method that will be used to order resources in</span>
<span class="sd">      the API response. The default value is relevance. Acceptable values are:</span>

<span class="sd">        date - Resources are sorted in reverse chronological order based on the</span>
<span class="sd">        date they were created.</span>

<span class="sd">        rating - Resources are sorted from highest to lowest rating.</span>

<span class="sd">        relevance - Resources are sorted based on their relevance to the search</span>
<span class="sd">        query. This is the default value for this parameter.</span>

<span class="sd">        title - Resources are sorted alphabetically by title.</span>

<span class="sd">        videoCount - Channels are sorted in descending order of their number of</span>
<span class="sd">        uploaded videos.</span>

<span class="sd">        viewCount - Resources sorted from highest to lowest number of views.</span>

<span class="sd">        For live broadcasts, videos are sorted by number of concurrent viewers</span>
<span class="sd">        while the broadcasts are ongoing.</span>
<span class="sd">    pageToken : str</span>
<span class="sd">      The ``pageToken`` parameter identifies a specific page in the result set that</span>
<span class="sd">      should be returned. In an API response, the ``nextPageToken`` and</span>
<span class="sd">      ``prevPageToken`` properties identify other pages that could be retrieved.</span>
<span class="sd">    publishedAfter : datetime</span>
<span class="sd">      The ``publishedAfter`` parameter indicates that the API response should only</span>
<span class="sd">      contain resources created at or after the specified time. The value is an RFC 3339</span>
<span class="sd">      formatted date-time value (1970-01-01T00:00:00Z).</span>
<span class="sd">    publishedBefore : datetime</span>
<span class="sd">      The ``publishedBefore`` parameter indicates that the API response should only</span>
<span class="sd">      contain resources created before or at the specified time. The value is an RFC</span>
<span class="sd">      3339 formatted date-time value (1970-01-01T00:00:00Z).</span>
<span class="sd">    regionCode : str</span>
<span class="sd">      The ``regionCode`` parameter instructs the API to return search results for videos</span>
<span class="sd">      that can be viewed in the specified country. The parameter value is an ISO 3166-1</span>
<span class="sd">      alpha-2 country code.</span>
<span class="sd">    relevanceLanguage : str</span>
<span class="sd">      The ``relevanceLanguage`` parameter instructs the API to return search results</span>
<span class="sd">      that are most relevant to the specified language. The parameter value is typically</span>
<span class="sd">      an ISO 639-1 two-letter language code. However, you should use the values zh-Hans</span>
<span class="sd">      for simplified Chinese and zh-Hant for traditional Chinese. Please note that</span>
<span class="sd">      results in other languages will still be returned if they are highly relevant to</span>
<span class="sd">      the search query term.</span>
<span class="sd">    safeSearch : str</span>
<span class="sd">      The ``safeSearch`` parameter indicates whether the search results should include</span>
<span class="sd">      restricted content as well as standard content. Acceptable values are:</span>

<span class="sd">        moderate - YouTube will filter some content from search results and,</span>
<span class="sd">        at the least, will filter content that is restricted in your locale.</span>
<span class="sd">        Based on their content, search results could be removed from search</span>
<span class="sd">        results or demoted in search results. This is the default parameter</span>
<span class="sd">        value.</span>

<span class="sd">        none - YouTube will not filter the search result set.</span>

<span class="sd">        strict - YouTube will try to exclude all restricted content from the</span>
<span class="sd">        search result set.</span>

<span class="sd">        Based on their content, search results</span>
<span class="sd">        could be removed from search results or demoted in search</span>
<span class="sd">        results.</span>
<span class="sd">    topicId : str</span>
<span class="sd">      The ``topicId`` parameter indicates that the API response should only contain</span>
<span class="sd">      resources associated with the specified topic. The value identifies a Freebase</span>
<span class="sd">      topic ID.</span>
<span class="sd">    type : str</span>
<span class="sd">      The ``type`` parameter restricts a search query to only retrieve a particular type</span>
<span class="sd">      of resource. The value is a comma-separated list of resource types. The default</span>
<span class="sd">      value is video,channel,playlist. Acceptable values are: channel, playlist, and</span>
<span class="sd">      video.</span>
<span class="sd">    videoCaption : str</span>
<span class="sd">      The ``videoCaption`` parameter indicates whether the API should filter video</span>
<span class="sd">      search results based on whether they have captions. If you specify a value for</span>
<span class="sd">      this parameter, you must also set the ``type`` parameter&#39;s value to video.</span>
<span class="sd">      Acceptable values are:</span>

<span class="sd">        any - Do not filter results based on caption availability.</span>

<span class="sd">        closedCaption - Only include videos that have captions.</span>

<span class="sd">        none - Only include videos that do not have captions.</span>
<span class="sd">    videoCategoryId : str</span>
<span class="sd">      The ``videoCategoryId`` parameter filters video search results based on their</span>
<span class="sd">      category. If you specify a value for this parameter, you must also set the</span>
<span class="sd">      ``type`` parameter&#39;s value to video.</span>
<span class="sd">    videoDefinition : str</span>
<span class="sd">      The ``videoDefinition`` parameter lets you restrict a search to only include</span>
<span class="sd">      either high definition (HD) or standard definition (SD) videos. HD videos are</span>
<span class="sd">      available for playback in at least 720p, though higher resolutions, like 1080p,</span>
<span class="sd">      might also be available. If you specify a value for this parameter, you must also</span>
<span class="sd">      set the ``type`` parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        any - Return all videos, regardless of their resolution.</span>

<span class="sd">        high - Only retrieve HD videos.</span>

<span class="sd">        standard - Only retrieve videos in standard definition.</span>
<span class="sd">    videoDimension : str</span>
<span class="sd">      The ``videoDimension`` parameter lets you restrict a search to only retrieve 2D or</span>
<span class="sd">      3D videos. If you specify a value for this parameter, you must also set the</span>
<span class="sd">      ``type`` parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        2d - Restrict search results to exclude 3D videos.</span>

<span class="sd">        3d - Restrict search results to only include 3D videos.</span>

<span class="sd">        any - Include both 3D and non-3D videos in returned results. This is the default</span>
<span class="sd">        value.</span>
<span class="sd">    videoDuration : str</span>
<span class="sd">      The ``videoDuration`` parameter filters video search results based on their</span>
<span class="sd">      duration. If you specify a value for this parameter, you must also set the</span>
<span class="sd">      ``type`` parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        any - Do not filter video search results based on their duration.</span>
<span class="sd">        This is the default value.</span>

<span class="sd">        long - Only include videos longer than 20 minutes.</span>

<span class="sd">        medium - Only include videos that are between four and 20 minutes</span>
<span class="sd">        long (inclusive).</span>

<span class="sd">        short - Only include videos that are less than four minutes long.</span>
<span class="sd">    videoEmbeddable : str</span>
<span class="sd">      The ``videoEmbeddable`` parameter lets you to restrict a search to only videos</span>
<span class="sd">      that can be embedded into a webpage. If you specify a value for this parameter,</span>
<span class="sd">      you must also set the ``type`` parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        any - Return all videos, embeddable or not.</span>

<span class="sd">        true - Only retrieve embeddable videos.</span>
<span class="sd">    videoLicense : str</span>
<span class="sd">      The ``videoLicense`` parameter filters search results to only include videos with</span>
<span class="sd">      a particular license. YouTube lets video uploaders choose to attach either the</span>
<span class="sd">      Creative Commons license or the standard YouTube license to each of their videos.</span>
<span class="sd">      If you specify a value for this parameter, you must also set the ``type``</span>
<span class="sd">      parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        any - Return all videos, regardless of which license they have,</span>
<span class="sd">        that match the query parameters.</span>

<span class="sd">        creativeCommon - Only return videos that have a Creative Commons</span>
<span class="sd">        license.</span>
<span class="sd">        Users can reuse videos with this license in other videos that they</span>
<span class="sd">        create.</span>

<span class="sd">        youtube - Only return videos that have the standard YouTube license.</span>
<span class="sd">    videoSyndicated : str</span>
<span class="sd">      The ``videoSyndicated`` parameter lets you to restrict a search to only videos</span>
<span class="sd">      that can be played outside youtube.com. If you specify a value for this parameter,</span>
<span class="sd">      you must also set the ``type`` parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        any - Return all videos, syndicated or not.</span>

<span class="sd">        true - Only retrieve syndicated videos.</span>
<span class="sd">    videoType : str</span>
<span class="sd">      The ``videoType`` parameter lets you restrict a search to a particular type of</span>
<span class="sd">      videos. If you specify a value for this parameter, you must also set the ``type``</span>
<span class="sd">      parameter&#39;s value to video. Acceptable values are:</span>

<span class="sd">        any - Return all videos.</span>

<span class="sd">        episode - Only retrieve episodes of shows.</span>

<span class="sd">        movie - Only retrieve movies.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    serp_df : pandas.DataFrame</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>
    <span class="n">supplied_params</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]}</span>

    <span class="n">type_vid_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;eventType&quot;</span><span class="p">,</span>
        <span class="s2">&quot;relatedToVideoId&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoCaption&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoCategoryId&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoDefinition&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoDimension&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoDuration&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoEmbeddable&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoLicense&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoSyndicated&quot;</span><span class="p">,</span>
        <span class="s2">&quot;videoType&quot;</span><span class="p">,</span>
        <span class="s2">&quot;forMine&quot;</span><span class="p">,</span>
        <span class="s2">&quot;forContentOwner&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">supplied_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;video&quot;</span> <span class="ow">and</span> <span class="n">type_vid_params</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span>
        <span class="nb">set</span><span class="p">(</span><span class="n">supplied_params</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s1">&#39;You need to set type=&quot;video&quot; if you want to set&#39;</span>
            <span class="s2">&quot; any of the following:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">type_vid_params</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">supplied_params</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">],</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">supplied_params</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">SERP_YTUBE_VALID_VALS</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">supplied_params</span><span class="p">[</span><span class="n">p</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">SERP_YTUBE_VALID_VALS</span><span class="p">[</span><span class="n">p</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Please make sure you provide a&quot;</span>
                    <span class="s1">&#39; valid value for &quot;</span><span class="si">{}</span><span class="s1">&quot;, valid values:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">p</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">SERP_YTUBE_VALID_VALS</span><span class="p">[</span><span class="n">p</span><span class="p">]])</span>
                    <span class="p">)</span>
                <span class="p">)</span>

    <span class="n">params_list</span> <span class="o">=</span> <span class="n">_dict_product</span><span class="p">(</span><span class="n">supplied_params</span><span class="p">)</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.googleapis.com/youtube/v3/search?part=snippet&quot;</span>

    <span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params_list</span><span class="p">:</span>
        <span class="n">param_log</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">k</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">param</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Requesting: &quot;</span> <span class="o">+</span> <span class="n">param_log</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">param</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="n">responses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>

    <span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">resp</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">responses</span><span class="p">):</span>
        <span class="n">snippet_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;snippet&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">]])</span>
        <span class="n">id_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;items&quot;</span><span class="p">]])</span>
        <span class="k">if</span> <span class="s2">&quot;channelId&quot;</span> <span class="ow">in</span> <span class="n">id_df</span><span class="p">:</span>
            <span class="n">id_df</span> <span class="o">=</span> <span class="n">id_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;channelId&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;thumbnails&quot;</span> <span class="ow">in</span> <span class="n">snippet_df</span><span class="p">:</span>
            <span class="n">thumb_df</span> <span class="o">=</span> <span class="n">json_normalize</span><span class="p">(</span><span class="n">snippet_df</span><span class="p">[</span><span class="s2">&quot;thumbnails&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">thumb_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="n">page_info</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;pageInfo&quot;</span><span class="p">]</span>
        <span class="n">temp_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">snippet_df</span><span class="p">,</span> <span class="n">id_df</span><span class="p">,</span> <span class="n">thumb_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">page_info</span><span class="p">)</span>
        <span class="n">temp_df</span><span class="p">[</span><span class="s2">&quot;rank&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_df</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_df</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">empty_df_cols</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s2">&quot;title&quot;</span><span class="p">,</span>
                <span class="s2">&quot;description&quot;</span><span class="p">,</span>
                <span class="s2">&quot;publishedAt&quot;</span><span class="p">,</span>
                <span class="s2">&quot;channelTitle&quot;</span><span class="p">,</span>
                <span class="s2">&quot;kind&quot;</span><span class="p">,</span>
                <span class="s2">&quot;videoId&quot;</span><span class="p">,</span>
                <span class="s2">&quot;channelId&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="n">temp_df</span> <span class="o">=</span> <span class="n">temp_df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="p">[</span><span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;q&quot;</span><span class="p">]])</span>
            <span class="n">temp_df</span> <span class="o">=</span> <span class="n">temp_df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">empty_df_cols</span><span class="p">))</span>

            <span class="n">temp_df</span> <span class="o">=</span> <span class="n">temp_df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">page_info</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;key&quot;</span><span class="p">]</span>
        <span class="n">temp_df</span> <span class="o">=</span> <span class="n">temp_df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="o">**</span><span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">temp_df</span><span class="p">[</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">)</span>
        <span class="n">result_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">result_df</span><span class="p">,</span> <span class="n">temp_df</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">result_df</span><span class="p">[</span><span class="s2">&quot;queryTime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="n">result_df</span><span class="p">[</span><span class="s2">&quot;queryTime&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">result_df</span><span class="p">[</span><span class="s2">&quot;queryTime&quot;</span><span class="p">])</span>

    <span class="n">specified_cols</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;queryTime&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rank&quot;</span><span class="p">,</span>
        <span class="s2">&quot;title&quot;</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">,</span>
        <span class="s2">&quot;publishedAt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;channelTitle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;totalResults&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kind&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">ordered_cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">params_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">+</span> <span class="n">specified_cols</span>
    <span class="n">non_ordered</span> <span class="o">=</span> <span class="n">result_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">ordered_cols</span><span class="p">))</span>
    <span class="n">final_df</span> <span class="o">=</span> <span class="n">result_df</span><span class="p">[</span><span class="n">ordered_cols</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">non_ordered</span><span class="p">)]</span>

    <span class="n">vid_ids</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">final_df</span><span class="p">[</span><span class="s2">&quot;videoId&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">vid_ids</span><span class="p">:</span>
        <span class="n">vid_details_df</span> <span class="o">=</span> <span class="n">youtube_video_details</span><span class="p">(</span><span class="n">vid_ids</span><span class="o">=</span><span class="n">vid_ids</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
        <span class="n">vid_details_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;video.&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">vid_details_df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
        <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">final_df</span><span class="p">,</span> <span class="n">vid_details_df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s2">&quot;videoId&quot;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s2">&quot;video.id&quot;</span>
        <span class="p">)</span>

    <span class="n">channel_ids</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">final_df</span><span class="p">[</span><span class="s2">&quot;channelId&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">channel_ids</span><span class="p">:</span>
        <span class="n">channel_details_df</span> <span class="o">=</span> <span class="n">youtube_channel_details</span><span class="p">(</span><span class="n">channel_ids</span><span class="o">=</span><span class="n">channel_ids</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
        <span class="n">channel_details_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;channel.&quot;</span> <span class="o">+</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">channel_details_df</span><span class="o">.</span><span class="n">columns</span>
        <span class="p">]</span>

        <span class="n">final_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">final_df</span><span class="p">,</span>
            <span class="n">channel_details_df</span><span class="p">,</span>
            <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="s2">&quot;channelId&quot;</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="s2">&quot;channel.id&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">final_df</span> <span class="o">=</span> <span class="n">final_df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;videoId&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">final_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="set_logging_level">
<a class="viewcode-back" href="../../advertools.serp.html#advertools.serp.set_logging_level">[docs]</a>
<span class="k">def</span> <span class="nf">set_logging_level</span><span class="p">(</span><span class="n">level_or_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Change the logging level during the session.</span>
<span class="sd">    Acceptable values are [0, 10, 20, 30, 40, 50,</span>
<span class="sd">    &#39;NOTSET&#39;, &#39;DEBUG&#39;, &#39;INFO&#39;, &#39;WARNING&#39;, &#39;ERROR&#39;,</span>
<span class="sd">    &#39;CRITICAL&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lvl_names_values</span> <span class="o">=</span> <span class="p">[</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">10</span><span class="p">,</span>
        <span class="mi">20</span><span class="p">,</span>
        <span class="mi">30</span><span class="p">,</span>
        <span class="mi">40</span><span class="p">,</span>
        <span class="mi">50</span><span class="p">,</span>
        <span class="s2">&quot;NOTSET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;WARNING&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ERROR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CRITICAL&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">level_or_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lvl_names_values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Please make sure you supply&quot;</span> <span class="s2">&quot; a value from: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lvl_names_values</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level_or_name</span><span class="p">)</span></div>



<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s2">&quot;INFO&quot;</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Elias Dabbas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>